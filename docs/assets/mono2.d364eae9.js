import{_ as e,t as l}from"./UploadWarp.8818dd2b.js";import{b as a,r as t,L as o,e as n,o as u,f as d,g as i,h as p,l as r,t as m,O as s,Y as f,i as c,S as _,T as v}from"./vendor.2a8194a9.js";const h={components:{UploadWarp:e},setup(e,n){const u=a([]),d=a(""),i=a(""),p=a(""),r=a(!1),m=t({tag:"",name:"",__openRules:!1,tagIcon:"input",ctrlBtn:!0});return{data:m,code:d,make:function(){const e=[];i.value.split("\n").map((l=>{let a=l.trim().split("\t"),t={name:a[0].trim(),title:a[1].trim(),type:a[2].trim(),opt:a[3].trim().split("/").map((e=>e.trim())),default:a[4]?a[4].trim():""};e.push(t)}));const a=[];0==r.value&&a.push('fieldName: helper.input_text("字段名", "字段名")');for(let t of e){let e="";if(["string","number"].includes(t.type.toLowerCase()))if(t.opt.length>1){let l=JSON.stringify(t.opt.map((e=>({key:e,value:e}))));e=`'${t.name}':helper.input_radio('${t.title}',${l},'${t.default}')`}else e=`'${t.name}':helper.input_text('${t.title}','${t.default}')`;else"boolean"==t.type&&(e=`'${t.name}':helper.input_boolean('${t.title}',${t.default})`);e&&a.push(e);let o=["'__ID':''"];for(let l in m)if("formItem"==l){if(m[l]){let e=`{\n        showLabel: helper.input_boolean("显示 label", true),\n        labelWidth: helper.input_number("label 宽", 100),\n        label: helper.input_text("label", '${m.name}', ),\n        }`;o.push(`${l}:${e}`)}}else if("tag"==l&&1==r.value)o.push(`${l}:draggable`);else{let e=typeof m[l],a=["boolean","number"].includes(e)?m[l]:JSON.stringify(m[l]);o.push(`${l}:${a}`)}o.push(`attrs:{${a.join(",\n")}}`);let n="export default {"+o.join(",\n")+"}";d.value=`import helper from "@/components/form/ui/helper.js";\n        \n        ${n}`,p.value=l(m.tag)+".js"}},codeStr:i,execDownload:function(){const e=new Blob([d.value],{type:"application/javascript; charset=utf-8"});o.exports.saveAs(e,p.value)},isContainer:r,files:u}}},V={style:{width:"100%"}},b=r("生成"),g=r("下载");h.render=function(e,l,a,t,o,_){const v=n("upload-warp"),h=n("el-input"),$=n("el-form-item"),y=n("el-switch"),w=n("el-button"),x=n("el-form"),U=n("el-col"),k=n("el-row"),C=n("el-container");return u(),d("div",V,[i(C,{direction:"vertical"},{default:p((()=>[i(k,null,{default:p((()=>[i(U,{span:12},{default:p((()=>[r(m(t.files)+" ",1),i(v,{uploadType:"image","auto-upload":!0,modelValue:t.files,"onUpdate:modelValue":l[0]||(l[0]=e=>t.files=e),action:"https://www.vkandian.cn/index.php/index/upload"},null,8,["modelValue"]),i(x,null,{default:p((()=>[i($,{label:"属性字符串"},{default:p((()=>[i(h,{type:"textarea",modelValue:t.codeStr,"onUpdate:modelValue":l[1]||(l[1]=e=>t.codeStr=e),rows:"10"},null,8,["modelValue"])])),_:1}),i($,{label:"tag"},{default:p((()=>[i(h,{modelValue:t.data.tag,"onUpdate:modelValue":l[2]||(l[2]=e=>t.data.tag=e)},null,8,["modelValue"])])),_:1}),i($,{label:"name"},{default:p((()=>[i(h,{modelValue:t.data.name,"onUpdate:modelValue":l[3]||(l[3]=e=>t.data.name=e)},null,8,["modelValue"])])),_:1}),i($,{label:"图标"},{default:p((()=>[i(h,{modelValue:t.data.tagIcon,"onUpdate:modelValue":l[4]||(l[4]=e=>t.data.tagIcon=e)},null,8,["modelValue"])])),_:1}),i($,{label:"容器"},{default:p((()=>[i(y,{modelValue:t.isContainer,"onUpdate:modelValue":l[5]||(l[5]=e=>t.isContainer=e),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])])),_:1}),i($,{label:"开启自定义验证"},{default:p((()=>[i(y,{modelValue:t.data.__openRules,"onUpdate:modelValue":l[6]||(l[6]=e=>t.data.__openRules=e),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])])),_:1}),i($,{label:"显示控制按钮"},{default:p((()=>[i(y,{modelValue:t.data.ctrlBtn,"onUpdate:modelValue":l[7]||(l[7]=e=>t.data.ctrlBtn=e),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])])),_:1}),i($,{label:"开启formItem标签"},{default:p((()=>[i(y,{modelValue:t.data.formItem,"onUpdate:modelValue":l[8]||(l[8]=e=>t.data.formItem=e),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])])),_:1}),i($,null,{default:p((()=>[i(w,{onClick:t.make,type:"primary"},{default:p((()=>[b])),_:1},8,["onClick"]),i(w,{onClick:t.execDownload,type:"default"},{default:p((()=>[g])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),i(U,{span:12},{default:p((()=>[s(c("textarea",{"onUpdate:modelValue":l[9]||(l[9]=e=>t.code=e),style:{width:"100%",height:"100%",border:"none",padding:"20px"}},"\r\n          ",512),[[f,t.code]])])),_:1})])),_:1})])),_:1})])};const $=_(h);$.use(v),$.mount("#app");
