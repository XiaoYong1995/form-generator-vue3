import{i as e,a as t,b as l,c as a,d as o,e as n,r,f as i,_ as s}from"./UploadWarp.8818dd2b.js";import{a as u,E as d,r as c,w as m,b as p,d as f,p as _,c as g,e as h,f as b,g as v,h as y,F as k,n as I,o as w,i as V,j as D,k as x,t as C,l as S,m as j,q as N,s as U,u as z,v as L,x as R,y as O,z as $,A as T,C as E,B,D as M,G as W,I as A,M as F,V as P,H as q,J as G,_ as J,K as Z,L as X,N as H,O as K,P as Q,Q as Y,R as ee,S as te,T as le,U as ae,W as oe,X as ne}from"./vendor.2a8194a9.js";u.defaults.timeout=1e4,u.defaults.baseURL="",u.interceptors.request.use((function(e){let t=localStorage.getItem("token");return t&&(e.headers["security-hash"]=t),e}),(function(e){return d.error("请求错误，请重试"),Promise.reject(e)}));class re{static Callback(e,t){0!==e.data.code?d.error(e.data.data.msg):t(e.data)}static Get(e,t){return new Promise(((l,a)=>{u.get(e,{params:t}).then((e=>{re.Callback(e,l)})).catch((e=>{a(e)}))}))}static Post(e,t,l){return new Promise(((a,o)=>{u.post(e,t,l).then((e=>{re.Callback(e,a)})).catch((e=>{o(e)}))}))}}const ie={default:function(e,t){for(let l of t){let t={};t.tag=e.__opt__.tag,t.attrs={label:l.value},t.slots={default:l.key},e.childrens.value.push(t)}},"el-option":function(e,t){for(let l of t){let t={};t.tag=e.__opt__.tag,t.attrs={value:l.value,label:l.key},e.childrens.value.push(t)}}},se=function(n){if(e(n)||t(n)||l(n))return n;const r={};for(let e in n)a(n[e])?"__val__"in n[e]?r[e]=n[e].__val__:0==["name","tagIcon","__formId","rule"].includes(e)&&(r[e]=se(n[e])):o(n[e])?r[e]=n[e].map((e=>se(e))):0==["name","tagIcon","__formId","rule"].includes(e)&&(r[e]=n[e]);if(Object.keys(n).indexOf("events")>-1&&Object.keys(n.events)&&(r.events=n.events),"slots"in r)for(let e in r.slots)r.slots[e]||delete r.slots[e];if("props"in r&&(r.attrs=Object.assign(r.attrs,r.props),delete r.props),o(r.childrens)?r.childrens=p(r.childrens):r.childrens=p([]),"__text"in r&&(r.slots.default=r.__text),"__opt__"in r){let e="static"==r.__opt__.type?r.__opt__.staticData:r.__opt__.dynamicData,t=r.__opt__.tag in ie?ie[r.__opt__.tag]:ie.default;"static"==r.__opt__.type?t(r,e):re.Get(e.url).then((e=>{t(r,e.data)}))}return console.log(r,"--c"),r};const ue=["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"].map((e=>`el-icon-${e}`)),de=f({name:"input-icon",props:["modelValue"],emits:["update:modelValue"],setup(e,t){const l=p(""),a=p(!1),o=p(e.modelValue);m(l,(()=>{this.iconList=l?ue.filter((e=>e.indexOf(l)>-1)):ue}));return{iconList:ue,key:l,onOpen:function(){this.key="",this.scrollToActive()},scrollToActive:async function(){await I();const e=document.getElementsByClassName("active-item")[0];e&&e.scrollIntoView&&e.scrollIntoView()},onSelect:function(e){o.value=e,t.emit("update:modelValue",e)},setIcon:o,dialogTableVisible:a}}});_("data-v-3c4303cc");const ce={slot:"title"},me=S(" 选择图标 "),pe={ref:"iconWrap",class:"icon-ul"},fe=["onClick"],_e=S("选择");g(),de.render=function(e,t,l,a,o,n){const r=h("el-input"),i=h("el-dialog"),s=h("el-button");return w(),b(k,null,[v(i,{modelValue:e.dialogTableVisible,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dialogTableVisible=t),width:"980px",onOpen:e.scrollToActive},{default:y((()=>[V("div",ce,[me,v(r,{modelValue:e.key,"onUpdate:modelValue":t[0]||(t[0]=t=>e.key=t),size:"mini",style:{width:"260px"},placeholder:"请输入图标名称","prefix-icon":"el-icon-search",clearable:""},null,8,["modelValue"])]),V("ul",pe,[(w(!0),b(k,null,D(e.iconList,(t=>(w(),b("li",{key:t,class:x(e.setIcon===t?"active-item":""),onClick:l=>e.onSelect(t)},[V("i",{class:x(t)},null,2),V("div",null,C(t),1)],10,fe)))),128))],512)])),_:1},8,["modelValue","onOpen"]),v(r,{modelValue:e.setIcon,"onUpdate:modelValue":t[3]||(t[3]=t=>e.setIcon=t),placeholder:"请输入内容",size:"mini"},{append:y((()=>[v(s,{icon:e.setIcon,onClick:t[2]||(t[2]=t=>e.dialogTableVisible=!0)},{default:y((()=>[_e])),_:1},8,["icon"])])),default:y((()=>[S(C(e.dialogTableVisible)+" ",1)])),_:1},8,["modelValue"])],64)},de.__scopeId="data-v-3c4303cc";const ge=f({name:"element-render",components:{InputIcon:de},emits:["update","updateChild","rm","deleteItem","copyItem"],props:{eleName:String,formItem:Object,validator:e=>!0,__ID:String,tag:String,attrs:Object,events:{type:Object,default:{}},slots:Object,ctrlBtn:Boolean,currentID:String,childrens:Array,defaultvalue:{default:void 0}},setup(e,t){const l=j("copyItem"),a=j("deleteItem"),o=j("hightLight"),n=j("updateChild"),r=j("selected"),i=e.events,s=p(e.defaultvalue);console.log(e.defaultvalue,"props.defaultvalue"),m(s,(()=>{if("draggable"==e.tag)return console.log(s.value,"====",e.__ID),void n(s.value,e.__ID);t.emit("update",s.value,e.eleName,e.__ID)}));const u=N((()=>![!1,void 0].includes(e.formItem)&&(e.formItem&&e.formItem.showLabel?{label:e.formItem.label,labelWidth:e.formItem.labelWidth,prop:e.__ID}:{})));return{vm:s,formItemSet:u,deleteItem:a,copyItem:l,selected:r,updateChild:n,editModelValue:function(e){console.log(e),s.value=e},events:i,changeValue:function(e,l,a){t.emit("update",e,l,a)},hightLight:o}}}),he=[V("i",{class:"el-icon-delete"},null,-1)],be=[V("i",{class:"el-icon-copy-document"},null,-1)];ge.render=function(e,t,l,a,o,n){const r=h("element-render",!0),i=h("el-form-item");return e.formItemSet?(w(),U(i,z({key:0},e.formItemSet,{style:e.hightLight(e.__ID)}),{default:y((()=>[e.ctrlBtn?(w(),b(k,{key:0},[V("span",{class:"tool-btn tool-btn-del _btn",onClick:t[0]||(t[0]=t=>e.deleteItem(e.__ID)),title:"删除"},he),V("span",{class:"tool-btn tool-btn-copy _btn",onClick:t[1]||(t[1]=t=>e.copyItem(e.__ID)),title:"复制"},be)],64)):$("",!0),(w(),U(O(e.tag),z(e.attrs,R(e.events),{modelValue:e.vm,"onUpdate:modelValue":e.editModelValue}),L({default:y((()=>[(w(!0),b(k,null,D(e.childrens,((t,l)=>(w(),U(r,z({key:"son"+l,currentID:e.currentID},t),null,16,["currentID"])))),128))])),_:2},[D(e.slots,((e,t)=>({name:t,fn:y((()=>[S(C(e),1)]))})))]),1040,["modelValue","onUpdate:modelValue"]))])),_:1},16,["style"])):(w(),U(O(e.tag),z({key:1},e.attrs,{modelValue:e.vm,"onUpdate:modelValue":t[2]||(t[2]=t=>e.vm=t)},R(e.events),{style:e.hightLight(e.__ID)}),L({default:y((()=>[(w(!0),b(k,null,D(e.childrens,((t,l)=>(w(),U(r,z({key:"son"+l,currentID:e.currentID},t,{onUpdate:e.changeValue,onClick:T((l=>e.selected(t.__ID)),["stop"])}),null,16,["currentID","onUpdate","onClick"])))),128))])),_:2},[D(e.slots,((e,t)=>({name:t,fn:y((()=>[S(C(e),1)]))})))]),1040,["modelValue","style"]))};const ve=f({name:"PageGenerator",props:["modelValue"],emits:["update:modelValue"],components:{ElementRender:ge},setup(e,t){const l=j("selected"),a=j("updateDefaultValue"),r=function(e){const t=c({formConf:e.formConf,current:e.current,drawingList:e.drawingList.map((e=>se(e)))});return m(e,(()=>{t.drawingList=e.drawingList.map((e=>se(e)))})),t}(e.modelValue),i=c({});let s=[];const u=function(e){for(let t of e)i[t.__ID]=i[t.__ID]?i[t.__ID]:t.defaultvalue,s.push(t.__ID),o(t.childrens)&&u(t.childrens)};m(e.modelValue,(()=>{s=[],u(e.modelValue.drawingList);for(let e in i)s.includes(e)||delete i[e]}));return{onEnd:function(l){t.emit("update:modelValue",e.modelValue)},conf:r,formSetting:N((()=>{let t={};for(let l in e.modelValue.formConf.attrs)"__"!=l.substr(0,2)&&(t[l]=e.modelValue.formConf.attrs[l].__val__);t.rules=n(e.modelValue.formConf.attrs.__rules);for(let e in t.rules)t.rules[e]=t.rules[e].map((e=>(e.pattern=new RegExp(e.pattern),e)));return t})),selected:l,changeValue:function(e,t,l){console.log(e,t,l),a(e,l),i[l]=e},formModel:i}}}),ye=S("立即创建"),ke=S("取消");ve.render=function(e,t,l,a,o,n){const r=h("element-render"),i=h("el-empty"),s=h("el-button"),u=h("el-form-item"),d=h("draggable"),c=h("el-form");return w(),U(c,z({model:e.formModel},e.formSetting,{gutter:e.modelValue.formConf.gutter}),{default:y((()=>[v(d,{class:"drawing-board",style:{padding:"10px",height:"100%"},list:e.modelValue.drawingList,animation:340,group:"componentsGroup",onChange:e.onEnd},{default:y((()=>[(w(!0),b(k,null,D(e.conf.drawingList,((t,l)=>(w(),U(r,z({key:t.__ID+l,onClick:T((l=>e.selected(t.__ID)),["stop"]),onUpdate:e.changeValue,currentID:e.modelValue.current},t,{class:"item-tool-box"}),null,16,["onClick","onUpdate","currentID"])))),128)),e.conf.drawingList.length<1?(w(),U(i,{key:0,description:"从左侧拖入或点选组件进行表单设计"})):(w(),b(k,{key:1},[e.conf.formConf.attrs.__formBtns.__val__?(w(),U(u,{key:0},{default:y((()=>[v(s,{type:"primary"},{default:y((()=>[ye])),_:1}),v(s,null,{default:y((()=>[ke])),_:1})])),_:1})):$("",!0)],64))])),_:1},8,["list","onChange"])])),_:1},16,["model","gutter"])};const Ie=function(e,t){return{__val__:t,input_type:"input_text",label:e}},we=function(e){return{type:"static",tag:e,staticData:[{key:"选项一",value:1},{key:"选项二",value:2}],dynamicData:{url:"http://",medth:"post",keyName:"keyName",valueName:"valueName"}}};var Ve=Ie,De=function(e,t){return{__val__:t,input_type:"input_icon",label:e}},xe=function(e,t){return{__val__:t,input_type:"input_boolean",label:e}},Ce=function(e,t){return{__val__:t,input_type:"input_number",label:e}},Se=function(e,t){return{__val__:we(t),input_type:"input_opt",label:e}},je=function(e,t,l){return{__val__:l,input_type:"input_radio",label:e,opts:t,__child:{tag:"el-radio-button",keyValue:{key:"label",value:"__default__"}}}},Ne=function(e,t,l,a){return{__val__:a,input_type:"input_range",label:e,min:t,max:l}},Ue=function(e,t,l){return{__val__:l,input_type:"input_select",label:e,opts:t,__child:{tag:"el-option",keyValue:{key:"value",value:"label"}}}},ze=function(e){const t=n(e);return t.__ID=r(),t},Le={__ID:"",tag:"el-button",name:"按钮",__openRules:!1,tagIcon:"button",ctrlBtn:!0,__text:Ve("按钮文本","提交"),slots:{},props:{},attrs:{fieldName:Ve("字段名","字段名"),size:je("尺寸",[{key:"medium",value:"medium"},{key:"small",value:"small"},{key:"mini",value:"mini"}],""),type:je("类型",[{key:"primary",value:"primary"},{key:"success",value:"success"},{key:"warning",value:"warning"},{key:"danger",value:"danger"},{key:"info",value:"info"},{key:"text",value:"text"}],""),plain:xe("是否朴素按钮",!1),round:xe("是否圆角按钮",!1),circle:xe("是否圆形按钮",!1),loading:xe("是否加载中状态",!1),disabled:xe("是否禁用状态",!1),autofocus:xe("是否默认聚焦",!1)}},Re=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Le}),Oe={__ID:"",tag:"el-divider",name:"分割线",__openRules:!1,tagIcon:"divider",__text:Ve("文本内容","分割线"),slots:{},props:{},ctrlBtn:!0,attrs:{fieldName:Ve("字段名","字段名"),direction:je("方向",[{key:"horizontal",value:"horizontal"},{key:"vertical",value:"vertical"}],"horizontal"),"content-position":je("对齐",[{key:"left",value:"left"},{key:"right",value:"right"},{key:"center",value:"center"}],"center")}},$e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Oe});const Te={tag:"draggable",name:"栅格",__openRules:!1,tagIcon:"row",__ID:"",defaultvalue:[],attrs:{span:Ne("列数",1,24,8),offset:Ne("左侧间隔",0,24,0),push:Ne("右移动",0,24,0),pull:Ne("左移动",0,24,0)},props:{style:{"min-height":"60px"},component:"el-col",group:"componentsGroup",class:"drag-wrapper box",animation:340},childrens:[],ctrlBtn:!0,slots:{}};var Ee={tag:"el-row",defaultvalue:[],props:{component:"el-row",group:"componentsGroup",class:"drag-wrapper box",style:{"margin-left":"0px","margin-right":"0px"},animation:340},ctrlBtn:!0,name:"布局组件",__openRules:!1,tagIcon:"input",__ID:"",attrs:{gutter:Ne("栅格间隔",1,24,24),justify:je("justify",[{key:"start",value:"start"},{key:"end",value:"end"},{key:"center",value:"center"},{key:"space-around",value:"space-around"},{key:"space-between",value:"space-between"}],"start"),align:je("align",[{key:"top",value:"top"},{key:"middle",value:"middle"},{key:"bottom",value:"bottom"}])},actions:{"增加列":function(e){e.childrens.push(ze(Te))}},childrens:[ze(Te)],slots:{}},Be=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ee}),Me={tag:"draggable",defaultvalue:[],props:{component:"el-scrollbar",group:"componentsGroup",class:"drag-wrapper box",style:{"margin-left":"0px","margin-right":"0px"},animation:340},slots:{},ctrlBtn:!1,name:"滚动条",__openRules:!1,tagIcon:"input",__ID:"",attrs:{height:Ve("滚动条高度","100"),"max-height":Ve("滚动条最大高度",""),native:xe("是否使用原生滚动条样式",!1),"wrap-style":Ve("包裹容器的自定义样式",""),"wrap-class":Ve("包裹容器的自定义类名",""),"view-style":Ve("视图的自定义样式",""),"view-class":Ve("视图的自定义类名",""),noresize:xe("不响应容器尺寸变化，如果容器尺寸不会发生变化，最好设置它可以优化性能",!1),tag:Ve("视图的元素标签","div"),always:xe("滚动条总是显示",!1),"min-size":Ve("滚动条最小尺寸","20")},childrens:[]},We=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Me}),Ae={tag:"el-checkbox-group",name:"复选框",__openRules:!1,tagIcon:"checkbox",__ID:"",defaultvalue:[1,2],formItem:{showLabel:xe("显示 label",!0),labelWidth:Ce("label 宽",100),label:Ve("label","单选框")},attrs:{fieldName:Ve("字段名","字段名"),disabled:xe("是否禁用",!1),border:xe("占位字符",!0),size:je("尺寸",[{key:"medium",value:"中等"},{key:"small",value:"较小"},{key:"mini",value:"迷你"}],"medium")},__opt__:Se("选择项","el-checkbox-button"),props:{},childrens:[],ctrlBtn:!0},Fe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ae}),Pe={tag:"el-color-picker",name:"颜色拾取",__openRules:!1,tagIcon:"color",ctrlBtn:!0,defaultvalue:"#000000",formItem:{showLabel:xe("显示 label",!0),labelWidth:Ce("label 宽",100),label:Ve("label","颜色拾取")},attrs:{fieldName:Ve("字段名","字段名"),disabled:xe("是否禁用",!1),size:je("尺寸",[{key:"medium",value:"medium"},{key:"small",value:"small"},{key:"mini",value:"mini"}],""),"show-alpha":xe("是否支持透明度选择",!1),"color-format":je("写入 v-model 的颜色的格式",[{key:"hsl",value:"hsl"},{key:"hsv",value:"hsv"},{key:"hex",value:"hex"},{key:"rgb",value:"rgb"}],"rgb")},slots:{},props:{},childrens:[]},qe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pe}),Ge={tag:"el-input",name:"单行文本",__openRules:!0,tagIcon:"input",__ID:"",defaultvalue:"",formItem:{showLabel:xe("显示 label",!0),labelWidth:Ce("label 宽",100),label:Ve("label","单行文本")},attrs:{fieldName:Ve("字段名","字段名"),placeholder:Ve("占位字符","请输入"),"prefix-icon":De("框头部图标",""),"suffix-icon":De("框头部图标",""),type:Ue("类型",[{key:"text",value:"文本"},{key:"textarea",value:"多行文本"},{key:"password",value:"密码"},{key:"number",value:"数字"}],"text")},props:{},childrens:[],ctrlBtn:!0,slots:{prefix:Ve("框头部内容",""),suffix:Ve("框尾部内容",""),prepend:Ve("框前置内容",""),append:Ve("框后置内容","")},rule:{required:xe("必填",!1)}},Je=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ge}),Ze={tag:"el-input-number",name:"单行文本",__openRules:!1,tagIcon:"number",__ID:"",defaultvalue:0,formItem:{showLabel:xe("显示 label",!0),labelWidth:Ce("label 宽",100),label:Ve("label","单行文本")},attrs:{fieldName:Ve("字段名","字段名"),placeholder:Ve("占位字符","请输入"),"prefix-icon":De("框头部图标",""),"suffix-icon":De("框头部图标",""),type:Ue("类型",[{key:"text",value:"文本"},{key:"textarea",value:"多行文本"},{key:"password",value:"密码"},{key:"number",value:"数字"}],"text")},props:{},childrens:[],ctrlBtn:!0,slots:{prefix:Ve("框头部内容",""),suffix:Ve("框尾部内容",""),prepend:Ve("框前置内容",""),append:Ve("框后置内容","")},rule:{required:xe("必填",!1),regList:{type:"reg"}}},Xe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ze}),He={tag:"el-radio-group",name:"单选框",__openRules:!1,tagIcon:"radio",__ID:"",defaultvalue:"",formItem:{showLabel:xe("显示 label",!0),labelWidth:Ce("label 宽",100),label:Ve("label","单选框")},attrs:{fieldName:Ve("字段名","字段名"),disabled:xe("是否禁用",!1),border:xe("占位字符",!0),size:je("尺寸",[{key:"medium",value:"中等"},{key:"small",value:"较小"},{key:"mini",value:"迷你"}],"medium")},__opt__:Se("选择项","el-radio-button"),slots:{},props:{},childrens:[],ctrlBtn:!0,rule:{}},Ke=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:He}),Qe={tag:"el-rate",name:"Rate 评分",__openRules:!0,tagIcon:"rate",defaultvalue:"",ctrlBtn:!0,formItem:{showLabel:xe("显示 label",!0),labelWidth:Ce("label 宽",100),label:Ve("label","Rate 评分")},attrs:{fieldName:Ve("字段名","字段名"),disabled:xe("是否为只读",!1),"allow-half":xe("是否允许半选",!1),"show-text":xe("是否显示辅助文字，若为真，则会从 texts 数组中选取当前分数对应的文字内容",!1),"show-score":xe("是否显示当前分数， show-score 和 show-text 不能同时为真",!1)},slots:{},props:{},childrens:[]},Ye=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qe}),et={tag:"el-select",name:"select选择",__openRules:!1,tagIcon:" select",ctrlBtn:!0,defaultvalue:"",__opt__:Se("选择项","el-option"),formItem:{showLabel:xe("显示 label",!0),labelWidth:Ce("label 宽",100),label:Ve("label","select选择")},attrs:{fieldName:Ve("字段名","字段名"),multiple:xe("是否多选",!1),disabled:xe("是否禁用",!1),size:je("输入框尺寸",[{key:"medium",value:"medium"},{key:"small",value:"small"},{key:"mini",value:"mini"}],"large"),clearable:xe("是否可以清空选项",!1),"collapse-tags":xe("多选时是否将选中值按文字的形式展示",!1),filterable:xe("是否可搜索",!1),"allow-create":xe("是否允许用户创建新条目， 注意此时filterable必须为真。",!1),remote:xe("是否为远程搜索",!1),loading:xe("是否正在从远程获取数据",!1),"reserve-keyword":xe("多选且可搜索时，是否在选中一个选项后保留当前的搜索关键词",!1),"default-first-option":xe("在输入框按下回车，选择第一个匹配项。 需配合 filterable 或 remote 使用",!1),"popper-append-to-body":xe("是否将弹出框插入至 body 元素。 在弹出框的定位出现问题时，可将该属性设置为 false",!0),"automatic-dropdown":xe("对于不可搜索的 Select，是否在输入框获得焦点后自动弹出选项菜单",!1)},slots:{},props:{},childrens:[]},tt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:et}),lt={tag:"el-slider",name:"Slider 滑块",__openRules:!1,tagIcon:"slider",ctrlBtn:!0,formItem:{showLabel:xe("显示 label",!0),labelWidth:Ce("label 宽",100),label:Ve("label","Slider 滑块")},attrs:{fieldName:Ve("字段名","字段名"),disabled:xe("是否禁用",!1),"show-input":xe("是否显示输入框，仅在非范围选择时有效",!1),"show-input-controls":xe("在显示输入框的情况下，是否显示输入框的控制按钮",!0),"show-stops":xe("是否显示间断点",!1),"show-tooltip":xe("是否显示 tooltip",!0),range:xe("是否为范围选择",!1),vertical:xe("是否竖向模式",!1)},slots:{},props:{},childrens:[]},at=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lt}),ot={tag:"el-switch",name:"Switch 开关",__openRules:!1,tagIcon:"switch",ctrlBtn:!0,formItem:{showLabel:xe("显示 label",!0),labelWidth:Ce("label 宽",100),label:Ve("label","Switch 开关")},attrs:{fieldName:Ve("字段名","字段名"),disabled:xe("是否禁用",!1),loading:xe("是否显示加载中",!1),"validate-event":xe("改变 switch 状态时是否触发表单的校验",!0)},slots:{},props:{},childrens:[]},nt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ot}),rt={tag:"el-time-picker",name:"时间选择器",__openRules:!1,tagIcon:"time",ctrlBtn:!0,formItem:{showLabel:xe("显示 label",!0),labelWidth:Ce("label 宽",100),label:Ve("label","时间选择器")},attrs:{fieldName:Ve("字段名","字段名"),readonly:xe("完全只读",!1),disabled:xe("禁用",!1),editable:xe("文本框可输入",!0),clearable:xe("是否显示清除按钮",!0),"is-range":xe("是否为时间范围选择",!1),"arrow-control":xe("是否使用箭头进行时间选择",!1)},slots:{},props:{},childrens:[]},it=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rt}),st={tag:"el-time-select",name:"时间选择",__openRules:!1,tagIcon:"time-range",defaultvalue:"",ctrlBtn:!0,formItem:{showLabel:xe("显示 label",!0),labelWidth:Ce("label 宽",100),label:Ve("label","TimeSelect 时间选择")},attrs:{fieldName:Ve("字段名","字段名"),disabled:xe("禁用",!1),editable:xe("文本框可输入",!0),clearable:xe("是否显示清除按钮",!0),size:je("输入框尺寸",[{key:"medium",value:"medium"},{key:"small",value:"small"},{key:"mini",value:"mini"}],"")},slots:{},props:{},childrens:[]},ut=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:st}),dt={__ID:"",tag:"upload-warp",name:"上传文件",__openRules:!1,tagIcon:"input",ctrlBtn:!0,defaultvalue:"",formItem:{showLabel:xe("显示 label",!0),labelWidth:Ce("label 宽",100),label:Ve("label","上传文件")},attrs:{fieldName:Ve("字段名","字段名"),uploadType:je("上传类型",[{value:"图片",key:"image"},{value:"文件",key:"file"}],"image"),action:Ve("上传接口","https://www.vkandian.cn/index.php/index/upload"),multiple:xe("多文件上传",""),name:Ve("文件字段名","file"),tip:Ve("上传提示",""),"show-file-list":xe("是否显示文件列表",!0),drag:xe("拖拽上传",!1),accept:Ve("文件类型",""),"thumbnail-mode":xe("显示缩略图",!1),"list-type":je("列表模式",[{key:"text",value:"text"},{key:"picture",value:"picture"},{key:"picture-card",value:"picture-card"}],"text"),"auto-upload":xe("自动上传",!0),disabled:xe("禁用",!1),limit:Ce("最多可上传文件",1)},slots:{},props:{},childrens:[]},ct=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:dt});const mt={tag:"el-form",props:{},childrens:[],__rules:{},attrs:{__formRef:Ve("表单名","elForm"),__formModel:Ve("表单模型","formData"),size:je("表单尺寸",[{key:"medium",value:"中等"},{key:"small",value:"较小"},{key:"mini",value:"迷你"}],"medium"),labelPosition:je("标签对齐",[{key:"right",value:"右对齐"},{key:"left",value:"右对齐"},{key:"top",value:"顶部对齐"}],"right"),labelWidth:Ce("标签宽度",100),disabled:xe("禁用",!1),inline:xe("行内模式",!1),hideRequiredAsterisk:xe("必填标星",!1),__formBtns:xe("是否显示按钮",!0)}},pt={base:{eles:[],title:"基本组件"},form:{eles:[],title:"表单组件"}};let ft={"./element/form/elCheckboxGroup.js":Fe,"./element/form/elColorPicker.js":qe,"./element/form/elInput.js":Je,"./element/form/elInputNumber.js":Xe,"./element/form/elRadioGroup.js":Ke,"./element/form/elRate.js":Ye,"./element/form/elSelect.js":tt,"./element/form/elSlider.js":at,"./element/form/elSwitch.js":nt,"./element/form/elTimePicker.js":it,"./element/form/elTimeSelect.js":ut,"./element/form/elUpload.js":ct};for(const pl in ft)pt.form.eles.push(ft[pl].default);ft={"./element/base/elButton.js":Re,"./element/base/elDivider.js":$e,"./element/base/elRow.js":Be,"./element/base/elScrollbar.js":We};for(const pl in ft)pt.base.eles.push(ft[pl].default);const _t=f({name:"PagePanel",emits:["addComponent"],props:{formId:{type:String,default:"form_"},idGlobal:{type:Number,default:1}},setup(e,t){p(1);const{copy:l,onEnd:a}=function(e){return{copy:function(t){let l=n(t);return console.log("fieldName",l),l.__ID=r(),"fieldName"in l.attrs&&(l.attrs.fieldName.__val__=l.__ID),l.__formId=e.formId,l},onEnd:function(e){}}}(e),o=[];for(let n in pt)for(let e of pt[n].eles)o.push(e);return{elements:pt,onEnd:a,copy:l,addComponent:function(e){t.emit("addComponent",l(e))},_eles:o}}});_("data-v-440db840");const gt={class:"components-list"},ht=["onClick"],bt={class:"components-body"};g(),_t.render=function(e,t,l,a,o,n){const r=h("el-divider"),i=h("svg-icon"),s=h("draggable");return w(),b("div",gt,[V("div",null,[(w(!0),b(k,null,D(e.elements,((t,l)=>(w(),b(k,{key:l},[v(r,null,{default:y((()=>[S(C(t.title),1)])),_:2},1024),v(s,{class:"components-draggable",list:t.eles,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.copy,draggable:".components-item",sort:!1,onEnd:e.onEnd},{default:y((()=>[(w(!0),b(k,null,D(t.eles,((t,l)=>(w(),b("div",{key:l,class:"components-item",onClick:l=>e.addComponent(t)},[V("div",bt,[v(i,{"icon-class":t.tagIcon},null,8,["icon-class"]),S(" "+C(t.name),1)])],8,ht)))),128))])),_:2},1032,["list","clone","onEnd"])],64)))),128))])])},_t.__scopeId="data-v-440db840";const vt={default(e){let t=[];for(let l of e.opts){let a={},o={};for(let t in e.__child.keyValue)"__default__"==e.__child.keyValue[t]?o.default=l[t]:a[e.__child.keyValue[t]]=l[t];let n={tag:e.__child.tag,attrs:a,slots:o};t.push(n)}return t}},yt=function(e,t){if(!a(e))return null;const l={input_text:{childrens:[],tag:"el-input",attrs:{type:"text"},formItem:{},slots:{}},input_icon:{childrens:[],tag:"input-icon",attrs:{},formItem:{},slots:{}},input_number:{childrens:[],tag:"el-input-number",attrs:{type:"number"},formItem:{},slots:{}},input_range:{childrens:[],tag:"el-slider",attrs:{type:"number"},formItem:{},slots:{}},input_radio:{childrens:[],tag:"el-radio-group",attrs:{},formItem:{},slots:{}},input_select:{childrens:[],tag:"el-select",attrs:{},formItem:{},slots:{}},input_opt:{childrens:[],tag:"option-input",attrs:{},slots:{}},input_boolean:{childrens:[],tag:"el-switch",attrs:{"active-value":!0,"inactive-value":!1},formItem:{},slots:{}}};let o=e.input_type;e.input_type in l==0&&(o="input_text");let n=l[o];for(let a in e)0==["__val__","input_type","label","opts"].includes(a)&&(n.attrs[a]=e[a]);return"__child"in e?n.childrens=vt.default(e):0===Object.keys(n.slots).length&&delete n.slots,n.formItem={showLabel:!0,label:e.label,labelWidth:e.labelWidth?e.labelWidth:void 0},n.defaultvalue=e.__val__,n.eleName=t,n},kt=function(e){const t=[];t.push({tag:"el-divider",slots:{default:"form item"}});for(let l in e.formItem){let a=e.formItem[l];t.push(yt(a,l))}t.push({tag:"el-divider",slots:{default:"属性"}}),"__text"in e&&t.push(yt(e.__text,"__text"));for(let l in e.attrs){let a=e.attrs[l];t.push(yt(a,l))}return t.push(yt(e.__opt__,"__opt__")),t};const It=f({name:"RulesInput",emits:["update:modelValue"],components:{CircleCloseFilled:E},props:["modelValue","defaultvalue","fieldName"],setup(e,t){console.log(e);const l=p(null),a=c(n(B(e.modelValue))),o=function(){t.emit("update:modelValue",a)};return{data:a,addItem:function(){e.fieldName in a==0&&(a[e.fieldName]=[]),a[e.fieldName].push({id:r(),pattern:"",message:"请输入正确内容",trigger:"blur"}),(async()=>{await I(),l.value.$el.scrollIntoView()})()},save:o,querySearch:function(e,t){t([{title:"Email",value:"^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+",msg:"请输入正确的 Email"},{title:"身份证",value:"^[1-9]d{5}(18|19|([23]d))d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)d{3}[0-9Xx]$",msg:"请输入正确的身份证号码"},{title:"URL",value:"^((https?|ftp|file)://)?([da-z.-]+).([a-z.]{2,6})([/w .-]*)*/?$",msg:"请输入正确的URL"},{title:"电话号码",value:"^((d{3,4}-)|d{3.4}-)?d{7,8}$",msg:"请输入正确的电话号码"},{title:"必须是中文",value:"^[\\u4e00-\\u9fa5]{0,}$",msg:"必须是中文"}])},handleSelect:function(e,t){console.log(t,e)},del:function(t){a[e.fieldName].splice(a[e.fieldName].findIndex((e=>e.id===t)),1),o()},btn:l}}});_("data-v-42bc2a71");const wt=S("添加规则"),Vt={class:"tool"},Dt=S("保存");g(),It.render=function(e,t,l,a,o,n){const r=h("el-button"),i=h("el-form-item"),s=h("el-autocomplete"),u=h("el-input"),d=h("circle-close-filled"),c=h("el-icon"),m=h("el-card"),p=h("el-form");return w(),U(p,{"label-position":"left","label-width":"100px"},{default:y((()=>[v(i,null,{default:y((()=>[v(r,{size:"mini",onClick:T(e.addItem,["prevent"])},{default:y((()=>[wt])),_:1},8,["onClick"])])),_:1}),(w(!0),b(k,null,D(e.data[e.fieldName],((t,l)=>(w(),U(m,{style:{margin:"10px 5px"},key:"c"+l,class:"_box"},{default:y((()=>[v(i,{label:"表达式",size:"mini"},{default:y((()=>[v(s,{modelValue:t.pattern,"onUpdate:modelValue":e=>t.pattern=e,"fetch-suggestions":e.querySearch,class:"inline-input",placeholder:"输入验证正则表达式",onSelect:l=>e.handleSelect(t)},{default:y((({item:e})=>[S(C(e.title),1)])),_:2},1032,["modelValue","onUpdate:modelValue","fetch-suggestions","onSelect"])])),_:2},1024),v(i,{label:"错误提示",size:"mini"},{default:y((()=>[v(u,{modelValue:t.message,"onUpdate:modelValue":e=>t.message=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),v(i,{label:"触发事件",size:"mini"},{default:y((()=>[v(u,{modelValue:t.trigger,"onUpdate:modelValue":e=>t.trigger=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),V("span",Vt,[v(c,{size:20,onClick:l=>e.del(t.id)},{default:y((()=>[v(d)])),_:2},1032,["onClick"])])])),_:2},1024)))),128)),e.fieldName in e.data&&e.data[e.fieldName].length>0?(w(),U(i,{key:0},{default:y((()=>[v(r,{size:"mini",onClick:T(e.save,["prevent"]),ref:"btn"},{default:y((()=>[Dt])),_:1},8,["onClick"])])),_:1})):$("",!0)])),_:1})},It.__scopeId="data-v-42bc2a71";const xt=f({components:{ElementRender:ge,RulesInput:It},name:"page-setting",props:["modelValue"],emits:["update:modelValue"],setup(e,t){const l=j("deleteItem"),a=p("form"),o=N((()=>{let t=i(e.modelValue.drawingList,e.modelValue.current);if(t)return a.value="field",t}));m(e.modelValue.drawingList,(function(){t.emit("update:modelValue",e.modelValue)}));const n=B(e.modelValue.formConf.attrs);return{currentTab:a,eleRenderFormat:yt,eleRenderSetFormat:kt,currentItem:o,formConf:n,updateEleSet:function(t,l){console.log(t,l,"updateEleSet");let a=i(e.modelValue.drawingList,e.modelValue.current);if(l in a)a[l].__val__=t;else for(let e of["formItem","attrs"])if(a[e]&&l in a[e])return void(a[e][l].__val__=t)},deleteItem:l}}}),Ct={class:"right-board"},St={class:"field-box"},jt=S("验证规则"),Nt=S("删除"),Ut={class:"field-box"};xt.render=function(e,t,l,a,o,n){const r=h("el-button"),i=h("el-form-item"),s=h("element-render"),u=h("el-form"),d=h("el-divider"),c=h("rules-input"),m=h("el-scrollbar"),p=h("el-tab-pane"),f=h("el-tabs");return w(),b("div",Ct,[v(f,{modelValue:e.currentTab,"onUpdate:modelValue":t[2]||(t[2]=t=>e.currentTab=t),class:"center-tabs"},{default:y((()=>[v(p,{label:"组件属性",name:"field"},{default:y((()=>[V("div",St,[v(m,{class:"right-scrollbar"},{default:y((()=>[e.currentItem?(w(),b(k,{key:0},[v(u,{ref:"form2",size:"mini","label-position":"top","label-width":"80px"},{default:y((()=>[(w(!0),b(k,null,D(e.currentItem.actions,((t,l)=>(w(),U(i,{key:l},{default:y((()=>[v(r,{onClick:l=>t(e.currentItem)},{default:y((()=>[S(C(l),1)])),_:2},1032,["onClick"])])),_:2},1024)))),128)),(w(!0),b(k,null,D(e.eleRenderSetFormat(e.currentItem),((t,l)=>(w(),U(s,z({key:l+"-"+e.currentItem.__ID,onUpdate:e.updateEleSet},t),null,16,["onUpdate"])))),128))])),_:1},512),e.currentItem.__openRules?(w(),b(k,{key:0},[v(d,null,{default:y((()=>[jt])),_:1}),"draggable"!=e.currentItem.tag?(w(),U(c,{key:0,fieldName:e.currentItem.attrs.fieldName.__val__,modelValue:e.modelValue.formConf.__rules,"onUpdate:modelValue":t[0]||(t[0]=t=>e.modelValue.formConf.__rules=t)},null,8,["fieldName","modelValue"])):$("",!0)],64)):$("",!0),v(r,{type:"primary",size:"mini",onClick:t[1]||(t[1]=t=>e.deleteItem(e.currentItem.__ID))},{default:y((()=>[Nt])),_:1})],64)):$("",!0)])),_:1})])])),_:1}),v(p,{label:"表单属性",name:"form"},{default:y((()=>[V("div",Ut,[v(m,{class:"right-scrollbar"},{default:y((()=>[v(u,{ref:"form",size:"mini","label-position":"top","label-width":"80px"},{default:y((()=>[(w(!0),b(k,null,D(e.formConf,((t,l)=>(w(),b(k,{key:l},[S(C(l)+" ",1),v(s,z({onUpdate:t=>{e.modelValue.formConf.attrs[l].__val__=t}},e.eleRenderFormat(t)),null,16,["onUpdate"])],64)))),128))])),_:1},512)])),_:1})])])),_:1})])),_:1},8,["modelValue"])])};class zt{constructor(){this.__data=[]}add(e){this.__data.indexOf(e)>-1||this.__data.push(e)}data(){return this.__data}}class Lt{constructor(e){this.importFuncVue=new zt,this.importString=new zt,this.UIData=new zt,this.formData=new zt,this.APIData=new zt,this.returnData=new zt,this.rules=!1}addRules(e){this.rules=e}addUiDataFromApi(e,t,l){this.UIData.add(l),this.importString.add('import {Api} from "@/api"; '),this.APIData.add(`\n        Api.${t}("${e}").then(res=>{\n            UIData.${l}=res.data.data;\n        });\n        `)}renderImport(e){let t=this.importFuncVue.data().join(",");return e.push(`import {${t}} from "vue";`),e.concat(this.importString.data())}renderFormData(e){this.importFuncVue.add("reactive");let t={};return this.formData.data().forEach((e=>{console.log(e),t[e[0]]=e[1]})),e.push(`const formData=reactive(${JSON.stringify(t)});`),this.returnData.add("formData"),e}renderUIData(e){this.importFuncVue.add("reactive");let t={};return this.UIData.data().forEach((e=>{t[e]=""})),e.push(`const UIData=reactive(${JSON.stringify(t)});`),this.returnData.add("UIData"),e}renderApiScript(e){return e.concat(this.APIData.data().join("\n"))}renderFormRules(e){if(0==this.rules)return e;for(let l in this.rules)this.rules[l]=Object.values(this.rules[l]);this.returnData.add("rules");let t=JSON.stringify(this.rules,((e,t)=>"pattern"==e?`--${t}--`:t));return t=t.replace(/\-\-"/g,"/").replace(/"\-\-/g,"/"),e.push(`const rules=${t}`),e}renderSetup(e){e.push("setup(props, context) {"),e=this.renderFormData(e),e=this.renderUIData(e),e=this.renderApiScript(e),e=this.renderFormRules(e);let t=this.returnData.data().join(",");return e.push(` return { ${t} }`),e.push("},"),e}renderEnd(e){return e.push("});"),e}render(){this.importFuncVue.add("defineComponent"),this.importFuncVue.add("ref");let e=[""];return e.push("export default defineComponent({"),e.push('name: "formpage",'),e=this.renderSetup(e),e=this.renderEnd(e),e[0]=this.renderImport([]).join("\n"),e.join("\n")}}const Rt=function(e){let t=new RegExp("([A-Z]{1,1})");return e.replace(t,"-$1").toLowerCase()},Ot=function(e){const t={};for(let l in e)"object"==typeof e[l]?"__val__"in e[l]?t[l]=e[l].__val__:t[l]=Ot(e[l]):t[l]=e[l];return t},$t={FormData:"formData",default(e,t){return"__"==e.substr(0,2)?"":t?"boolean"==typeof(l=t)||["true","false"].indexOf(l)>-1?(console.log(e,"=----"),`:${Rt(e)}="${t}"`):`${Rt(e)}="${t}"`:"";var l},__formRef:e=>"",__formModel:e=>($t.FormData=e,`:model="${e}"`),fieldName:e=>`v-model="${$t.FormData}.${e}"`,style(e){let t=[];for(let l in e)t.push(`${Rt(l)}:${e[l]}`);return`style="${t.join(";")}"`}},Tt=function(e,t){e=Object.assign({},e,t);let l=[];for(let a in e)a in $t?l.push($t[a](e[a])):l.push($t.default(a,e[a]));return l.join(" ")},Et=function(e){let t=[];for(let l in e)e[l]&&t.push(`<template slot="${l}">${e[l]}</template>`);return t.join("")},Bt=function(e,t){if(!e)return"";return(e=Object.values(e)).map((function(e){return Wt(e,t)})).join(" ")},Mt={dynamic:{default:function(e,t,l){let a=[],o={props:{}};return o.tag=t.tag,o.attrs={":label":"item.value","v-for":`item in UIData.${e}`,":key":"item.key"},o.slots={default:"{{item.key}}"},a.push(o),a},"el-option":function(e,t,l){let a=[],o={props:{}};return o.tag=t.tag,o.attrs={":value":"item.value",":label":"item.key","v-for":`item in UIData.${e}`,":key":"item.key"},a.push(o),a}},static:{default:function(e,t,l){let a=[];for(let o of l){let e={props:{}};e.tag=t.tag,e.attrs={label:o.value},e.slots={default:o.key},a.push(e)}return a},"el-option":function(e,t,l){let a=[];for(let o of l){let e={props:{}};e.tag=t.tag,e.attrs={value:o.value,label:o.key},a.push(e)}return a}}},Wt=function(e,t){e.attrs.fieldName&&t.formData.add([e.attrs.fieldName,e.defaultvalue]),e.__rules&&(t.addRules(n(e.__rules)),e.attrs[":rules"]="rules");let l="component"in e.props?e.props.component:e.tag;if("__text"in e&&(e.slots.default=e.__text),"__opt__"in e){0==o(e.childrens)&&(e.childrens=[]);let l=function(e,t,l){let a="static"==t.type?t.staticData:t.dynamicData,o=t.tag in Mt[t.type]?Mt[t.type][t.tag]:Mt[t.type].default;return"dynamic"==t.type&&l.addUiDataFromApi(a.url,a.medth,e),o(e,t,a)}(e.attrs.fieldName,e.__opt__,t);e.childrens=e.childrens.concat(l)}let a=["<",l," ",Tt(e.attrs,e.props)," ",">\n",Bt(e.childrens,t),Et(e.slots),"</",l,">\n"];return e.formItem&&(a=["<","el-form-item"," ",Tt(e.formItem,{prop:e.attrs.fieldName})," ",">",a.join(""),"</","el-form-item",">"]),a.join("")},At=function(e){let t=(e=Ot(e)).formConf;console.log(t),t.childrens=e.drawingList;const l=new Lt;let a=Wt(t,l);return["<template>",M.exports.html_beautify(a),"</template>","<script>",M.exports.js_beautify(l.render()),"<\/script>"].join("\n")};const Ft=f({name:"PageGenerator",props:{},components:{PagePanel:_t,PageDrawer:ve,PageSetting:xt,DocumentCopy:W,Iphone:A,Monitor:F,VideoPlay:P,Delete:q,Download:G},setup(e){const t=p("pc"),l=p(!1),a=p(""),s=c(function(){let e=localStorage.getItem("settings");return e?JSON.parse(e):{current:"",formConf:mt,drawingList:[]}}()),u=function(e,t){for(let l of e){if(l.__ID==t)return e.splice(e.indexOf(l),1),!0;if(o(l.childrens)&&u(l.childrens,t))return!0}},f=function(e,t){for(let l of e){if(l.__ID==t){const t=n(l);return t.__ID=r(),e.push(c(t)),!0}if(o(l.childrens)&&f(l.childrens,t))return!0}},{toClipboard:_}=J();return m(s,(()=>{console.log(s),localStorage.setItem("settings",JSON.stringify(s))})),Z("copyItem",(function(e){f(s.drawingList,e)})),Z("deleteItem",(function(e){u(s.drawingList,e)})),Z("selected",(function(e){s.current=e})),Z("updateChild",(function(e,t){i(s.drawingList,t).childrens=e})),Z("hightLight",(function(e){return s.current==e?{border:"1px solid #ffc92fde",backgroundColor:"#e4ff0024"}:{}})),Z("updateDefaultValue",(function(e,t){i(s.drawingList,t).defaultvalue=e})),{settings:s,update:function(e){s.formConf=e.formConf,s.drawingList=e.drawingList},device:t,clearn:function(){localStorage.removeItem("settings"),s.current="",s.formConf=mt,s.drawingList=[]},preview:a,generate:At,execDownload:function(e){const t=At(s),l=new Blob([t],{type:"text/plain;charset=utf-8"});X.exports.saveAs(l,e)},showCode:l,preViewCode:function(){l.value=!0},ClipboardWrite:async()=>{const e=At(s);try{await _(e),d.success("复制成功！"),console.log("Copied to clipboard")}catch(t){console.error(t)}}}}}),Pt={class:"container"},qt={class:"left-board"},Gt=V("div",{class:"logo-wrapper"},[V("div",{class:"logo"},[S(" Vue3 Form Generator "),V("a",{class:"github",href:"https://github.com/yupk/form-generator-vue3",target:"_blank"},[V("img",{src:"https://github.githubassets.com/pinned-octocat.svg",alt:""})])])],-1),Jt=V("div",{class:"components-list"},null,-1),Zt={class:"center-board"},Xt={class:"action-bar"},Ht=S("生成 "),Kt=S("清空 "),Qt={class:"btn"},Yt={class:"btn"},el={class:"preview-action-bar"},tl=S("下载代码 "),ll=S("复制代码 "),al=S("        "),ol=S("\r\n    ");Ft.render=function(e,t,l,a,o,n){const r=h("page-panel"),i=h("el-scrollbar"),s=h("video-play"),u=h("el-icon"),d=h("delete"),c=h("el-switch"),m=h("page-drawer"),p=h("page-setting"),f=h("download"),_=h("document-copy"),g=h("el-drawer"),I=H("highlight");return w(),b(k,null,[V("div",Pt,[V("div",qt,[Gt,v(i,{class:"left-scrollbar"},{default:y((()=>[v(r,{onAddComponent:t[0]||(t[0]=t=>{e.settings.drawingList.push(t)})}),Jt])),_:1})]),V("div",Zt,[V("div",Xt,[V("div",{class:"btn",onClick:t[1]||(t[1]=(...t)=>e.preViewCode&&e.preViewCode(...t))},[v(u,null,{default:y((()=>[v(s)])),_:1}),Ht]),V("div",{class:"btn",onClick:t[2]||(t[2]=t=>e.clearn())},[v(u,null,{default:y((()=>[v(d)])),_:1}),Kt]),V("div",Qt,[v(c,{modelValue:e.device,"onUpdate:modelValue":t[3]||(t[3]=t=>e.device=t),"active-text":"电脑模式","inactive-text":"手机模式","active-value":"pc","inactive-value":"mobile"},null,8,["modelValue"])]),V("div",Yt,[v(c,{modelValue:e.preview,"onUpdate:modelValue":t[4]||(t[4]=t=>e.preview=t),"active-text":"开发模式","inactive-text":"预览模式","active-value":"","inactive-value":"preview"},null,8,["modelValue"])])]),v(i,{class:x(["center-scrollbar",[e.device,e.preview]])},{default:y((()=>[v(m,{"model-value":e.settings,"onUpdate:modelValue":e.update},null,8,["model-value","onUpdate:modelValue"])])),_:1},8,["class"])]),v(p,{"model-value":e.settings,"onUpdate:modelValue":e.update,style:{"padding-left":"10px"}},null,8,["model-value","onUpdate:modelValue"])]),v(g,{modelValue:e.showCode,"onUpdate:modelValue":t[7]||(t[7]=t=>e.showCode=t),direction:"rtl",size:"50%",style:{height:"100%"}},{title:y((()=>[V("div",el,[V("div",{class:"btn",onClick:t[5]||(t[5]=t=>e.execDownload("test.vue"))},[v(u,null,{default:y((()=>[v(f)])),_:1}),tl]),V("div",{class:"btn",onClick:t[6]||(t[6]=t=>e.ClipboardWrite())},[v(u,null,{default:y((()=>[v(_)])),_:1}),ll])])])),default:y((()=>[K(v(i,{height:"600px"},{default:y((()=>[V("pre",null,[al,V("code",null," "+C(e.generate(e.settings)),1),ol])])),_:1},512),[[I]])])),_:1},8,["modelValue"])],64)};const nl={components:{PageGenerator:Ft},setup:()=>({})};nl.render=function(e,t,l,a,o,n){const r=h("page-generator");return w(),U(r,{device:"pc"})};const rl={name:"SvgIcon",props:{iconClass:{type:String,required:!0},className:{type:String,default:""}},computed:{isExternal(){return e=this.iconClass,/^(https?:|mailto:|tel:)/.test(e);var e},iconName(){return`#icon-${this.iconClass}`},svgClass(){return this.className?`svg-icon ${this.className}`:"svg-icon"},styleExternalIcon(){return{mask:`url(${this.iconClass}) no-repeat 50% 50%`,"-webkit-mask":`url(${this.iconClass}) no-repeat 50% 50%`}}}};_("data-v-223b99ae");const il=["xlink:href"];g(),rl.render=function(e,t,l,a,o,n){return n.isExternal?(w(),b("div",z({key:0,style:n.styleExternalIcon,class:"svg-external-icon svg-icon"},R(e.$attrs)),null,16)):(w(),b("svg",z({key:1,class:n.svgClass,"aria-hidden":"true"},R(e.$attrs)),[V("use",{"xlink:href":n.iconName},null,8,il)],16))},rl.__scopeId="data-v-223b99ae";const sl=f({name:"DraggableWarp",emits:["update:modelValue"],props:{modelValue:Array},setup(e,t){const l=p(e.modelValue);return{vm:l,ini:{style:{"min-height":"60px"},component:"div",group:"componentsGroup",class:"drag-wrapper box",animation:340,filter:".btn"},update:function(e){console.log(e),l.value=e,t.emit("update:modelValue",e)}}}});sl.render=function(e,t,l,a,o,n){const r=h("draggable"),i=h("el-col");return w(),U(i,Q(Y(e.$attrs)),{default:y((()=>[v(r,z(e.ini,{modelValue:e.vm,"onUpdate:modelValue":e.update}),{default:y((()=>[ee(e.$slots,"default")])),_:3},16,["modelValue","onUpdate:modelValue"])])),_:3},16)};const ul=f({name:"OptionInput",emits:["update:modelValue"],props:["modelValue","defaultvalue"],setup(e,t){e.modelValue;const l=p(e.modelValue.type),a=c(n(e.modelValue.staticData)),o=c(n(e.modelValue.dynamicData));return m([o,a,l],(()=>{console.log(l.value),t.emit("update:modelValue",{type:l.value,tag:e.modelValue.tag,staticData:a,dynamicData:o})})),{staticData:a,addItem:function(){a.push({key:"",value:""})},delItem:function(e){a.splice(e,1)},dynamicData:o,current:l}}}),dl=V("i",{class:"el-icon-delete"},null,-1),cl=S("添加");ul.render=function(e,t,l,a,o,n){const r=h("el-input"),i=h("el-form-item"),s=h("el-col"),u=h("el-row"),d=h("el-button"),c=h("el-form"),m=h("el-tab-pane"),p=h("el-option"),f=h("el-select"),_=h("el-tabs");return w(),U(_,{type:"border-card",modelValue:e.current,"onUpdate:modelValue":t[4]||(t[4]=t=>e.current=t)},{default:y((()=>[v(m,{label:"静态数据",name:"static"},{default:y((()=>[v(c,{size:"small"},{default:y((()=>[v(i,null,{default:y((()=>[v(u,null,{default:y((()=>[(w(!0),b(k,null,D(e.staticData,((t,l)=>(w(),b(k,{key:"index"+l},[v(s,{span:11},{default:y((()=>[v(i,{label:"选项名",rules:{required:!0,message:"不能为空",trigger:"blur"}},{default:y((()=>[v(r,{modelValue:t.key,"onUpdate:modelValue":e=>t.key=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024),v(s,{span:11},{default:y((()=>[v(i,{label:"选项值",rules:{required:!0,message:"不能为空",trigger:"blur"}},{default:y((()=>[v(r,{modelValue:t.value,"onUpdate:modelValue":e=>t.value=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024),v(s,{span:1,offset:1,onClick:t=>e.delItem(l)},{default:y((()=>[dl])),_:2},1032,["onClick"])],64)))),128))])),_:1})])),_:1}),v(i,null,{default:y((()=>[v(d,{size:"mini",onClick:T(e.addItem,["prevent"])},{default:y((()=>[cl])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),v(m,{label:"动态数据",name:"dynamic"},{default:y((()=>[v(c,{size:"small"},{default:y((()=>[v(i,{label:"接口地址"},{default:y((()=>[v(r,{placeholder:"请输入接口地址",modelValue:e.dynamicData.url,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dynamicData.url=t),class:"input-with-select"},{prepend:y((()=>[v(f,{modelValue:e.dynamicData.medth,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dynamicData.medth=t),placeholder:"请选择",style:{width:"80px"}},{default:y((()=>[v(p,{label:"get",value:"get"}),v(p,{label:"post",value:"post"}),v(p,{label:"put",value:"put"})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1}),v(i,{label:"label键值"},{default:y((()=>[v(r,{type:"text",modelValue:e.dynamicData.keyName,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dynamicData.keyName=t)},null,8,["modelValue"])])),_:1}),v(i,{label:"value键值"},{default:y((()=>[v(r,{type:"text",modelValue:e.dynamicData.valueName,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dynamicData.valueName=t)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])};const ml=te(nl);ml.use(le,{locale:ae}),ml.component("draggable",oe),ml.component("draggable-warp",sl),ml.component("option-input",ul),ml.component("svg-icon",rl),ml.component("upload-warp",s),ml.directive("highlight",(function(e){let t=e.querySelectorAll("pre code");setTimeout((()=>{t.forEach((e=>{ne.highlightBlock(e)}))}),200)})),ml.mount("#app");
